<!DOCTYPE html><html id="top" lang="pt-BR" data-theme="light"><head><meta name="viewport" content="width=device-width,initial-scale=1"><meta charset="utf-8"><title>Corrigindo erro de chaves no arch linux | William Canin</title><meta name="description" content="Você já deve ter se deparado com problemas de c..."><meta name="author" content="William C. Canin"><meta property="og:title" content="Corrigindo erro de chaves no arch linux"><meta property="og:locale" content="pt_BR"><meta property="og:locale:alternate" content="en_US"><meta property="og:description" content="Você já deve ter se deparado com problemas de c..."><link rel="canonical" href="https://williamcanin.github.io/blog/corrigindo-erro-de-chaves-no-archlinux/"><meta property="og:url" content="https://williamcanin.github.io/blog/corrigindo-erro-de-chaves-no-archlinux/"><meta property="og:site_name" content="William Canin"><meta property="og:type" content="website"><meta name="twitter:card" content="summary"><meta property="twitter:title" content="William Canin"><meta name="robots" content="index, follow"><script type="application/ld+json">{"@context":"https://schema.org","@type":"WebSite","description":"Você já deve ter se deparado com problemas de c...","headline":"William Canin","name":"William Canin","url":"https://williamcanin.github.io/blog/corrigindo-erro-de-chaves-no-archlinux/"}</script><script src="/assets/js/no_inframe.js"></script><meta http-equiv="Content-Security-Policy" content=" default-src 'self'; img-src 'self' data: https://www.google.com https://media0.giphy.com https://media4.giphy.com https://github.githubassets.com; script-src 'self' https://www.google.com https://www.gstatic.com https://cdn.jsdelivr.net https://cdnjs.cloudflare.com https://giscus.app https://disqus.com https://script.google.com; style-src 'self' 'unsafe-inline' https://cdnjs.cloudflare.com https://fonts.googleapis.com https://cdn.jsdelivr.net https://giscus.app https://disqus.com; font-src 'self' https://fonts.gstatic.com https://cdnjs.cloudflare.com data:; connect-src 'self' https://www.google.com https://api.github.com https://script.google.com; frame-src https://www.google.com https://www.youtube.com https://giscus.app https://disqus.com; object-src 'none'; base-uri 'self'; form-action 'self'; "><meta http-equiv="Strict-Transport-Security" content="max-age=31536000; includeSubDomains; preload"><meta http-equiv="Cross-Origin-Opener-Policy" content="same-origin"><meta http-equiv="Cross-Origin-Embedder-Policy" content="require-corp"><link rel="icon" type="image/png" href="/assets/images/favicon.png"><link rel="apple-touch-icon" href="/assets/images/favicon.png"><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=SUSE+Mono:ital,wght@0,100..800;1,100..800&display=swap" rel="stylesheet"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inconsolata:400,700&amp;display=swap"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Inconsolata:wght@200..900&family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Roboto+Mono:ital,wght@0,100..700;1,100..700&family=Ubuntu:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&display=swap" rel="stylesheet"><link rel="stylesheet" href="/assets/vendor/bootstrap/css/bootstrap.min.css"><script src="/assets/js/theme_load.js"></script><link rel="stylesheet" href="/assets/css/style.css"><link rel="alternate" type="application/atom+xml" title="William Canin" href="/feed.xml"></head><body data-layout="post" data-terminal-enabled="true" style="font-family:monospace!important;font-size:15.45px!important;letter-spacing:-.05em!important"><div class="container-fluid"><div class="modal fade" id="avatarModal" tabindex="-1" aria-hidden="true"><div class="modal-dialog modal-dialog-centered"><div class="modal-content bg-transparent border-0 shadow-none"><div class="modal-body d-flex justify-content-center"><img id="modalAvatar" class="avatar-img" src="" alt=""></div></div></div></div><header class="header" style="max-width:860px!important;font-family:monospace!important;font-size:15.45px!important;letter-spacing:-.05em!important"><div class="row"><div class="col-sm-3 d-flex flex-column justify-content-end header__column-home"><span>[<span class="spacer">🏠</span><a class="" href="/">/home</a>&nbsp;]</span></div><div class="col-sm-6 d-flex flex-column justify-content-end"><span class="title">Hey, I'm William!</span> <small class="description">thoughts on programming, digital wellbeing, linux</small></div><div class="col-sm-3 d-flex justify-content-end avatar"><div class="avatar-wrapper"><div class="avatar-flipper light-theme can-flip"><div class="avatar-card"><div class="avatar-front"><img id="avatarImgLight" class="avatar-img" src="/assets/images/wcanin_light.png" alt="William Canin"></div><div class="avatar-back"><img class="avatar-img" src="/assets/images/wcanin_back.png" alt="William Canin"></div></div></div><div class="avatar-flipper dark-theme can-flip"><div class="avatar-card"><div class="avatar-front"><img id="avatarImgDark" class="avatar-img" src="/assets/images/wcanin_dark.png" alt="William Canin"></div><div class="avatar-back"><img class="avatar-img" src="/assets/images/wcanin_back.png" alt="William Canin"></div></div></div></div></div></div><div class="row"><div class="col-sm d-flex justify-content-center"><div class="line-separator"></div></div></div><div class="row"><div class="col-sm d-flex justify-content-center menu"><div>weblog&nbsp;»<div class="menu-wrap-link"><span class="spacer">📝</span><a class="" href="/blog/">posts</a><strong class="separator">⨟</strong></div><span style="display:inline-block"><span class="spacer">🔍</span><a id="blog-search__btn" href="/blog/?search=open">pesquisar</a><strong class="separator">⨟</strong></span><div class="menu-wrap-link"><span class="spacer">🔖</span><a class="" href="/blog/tags/">tags</a><strong class="separator">⨟</strong></div><div class="menu-wrap-link"><span class="spacer">📰</span><a href="/feed.xml">feed</a><strong class="separator">⨟</strong></div></div></div></div><div class="row justify-content-end"><div class="col-sm-2 d-flex justify-content-end"><span id="toggle-theme"><i class="fa-solid fa-moon"></i></span></div></div></header><div class="default" style="max-width:860px!important"><main class="content"><article id="post" class="post background_focus" itemscope itemtype="http://schema.org/BlogPosting"><div class="row"><header class="post-header"><h1 class="post-title p-name" itemprop="name headline">»&nbsp;Corrigindo erro de chaves no Arch Linux</h1><div class="row post-meta"><div class="col-sm d-flex justify-content-start"><time class="dt-published" datetime="2019-03-07T12:13:17+00:00" itemprop="datePublished">07 Mar, 2019</time></div><div class="col-sm d-flex justify-content-end"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span class="p-author h-card" itemprop="name">Postado por:&nbsp;William C. Canin</span></span></div><div class="post-reading_time">[&nbsp;Leia aproximadamente em 2 minutos&nbsp;]</div></div></header><div class="post-content e-content" itemprop="articleBody"><p>Se alguma vez você se deparou com erro de chaves públicas ao instalar um pacote no Arch Linux e não soube como resolver,então talvez essa dica abaixo pode te ajudar.</p><p>Abaixo você pode perceber que tentei instalar o pacote <a href="https://aur.archlinux.org/packages/spotify" target="_blank">spotify</a> no meu <a href="https://archlinux.org" target="_blank">Arch Linux</a> através do repositório AUR com o <a href="https://aur.archlinux.org/packages/yay/" target="_blank">yay</a>, e me retornou um erro de chave pública.</p><figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
</pre></td><td class="code"><pre>  william at archlinux <span class="k">in </span>folder ~ <span class="o">(</span>python-3.7.4<span class="o">)</span> ○
 ⇨ yay <span class="nt">-S</span> spotify <span class="nt">--nodiffmenu</span> <span class="nt">--noeditmenu</span> <span class="nt">--noupgrademenu</span>
:: There are 5 providers available <span class="k">for </span>spotify:
:: Repository AUR
    1<span class="o">)</span> spotify 2<span class="o">)</span> spotify-dev 3<span class="o">)</span> spotify-legacy 4<span class="o">)</span> spotify094 5<span class="o">)</span> spotio

Enter a number <span class="o">(</span><span class="nv">default</span><span class="o">=</span>1<span class="o">)</span>: 1
:: Checking <span class="k">for </span>conflicts...
:: Checking <span class="k">for </span>inner conflicts...
<span class="o">[</span>Aur: 1]  spotify-1:1.1.10.546-1

  1 spotify                                  <span class="o">(</span>Build Files Exist<span class="o">)</span>
<span class="o">==&gt;</span> Packages to cleanBuild?
<span class="o">==&gt;</span> <span class="o">[</span>N]one <span class="o">[</span>A]ll <span class="o">[</span>Ab]ort <span class="o">[</span>I]nstalled <span class="o">[</span>No]tInstalled or <span class="o">(</span>1 2 3, 1-3, ^4<span class="o">)</span>
<span class="o">==&gt;</span> N
:: PKGBUILD up to <span class="nb">date</span>, Skipping <span class="o">(</span>1/1<span class="o">)</span>: spotify
:: Parsing SRCINFO <span class="o">(</span>1/1<span class="o">)</span>: spotify
<span class="o">==&gt;</span> Criando o pacote: spotify 1:1.1.10.546-1 <span class="o">(</span>dom 11 ago 2019 11:11:33 <span class="nt">-03</span><span class="o">)</span>
<span class="o">==&gt;</span> Obtendo fontes...
  -&gt; Encontrado spotify.protocol
  -&gt; Encontrado LICENSE
  -&gt; Encontrado spotify-1.1.10.546-Release
  -&gt; Encontrado spotify-1.1.10.546-Release.sig
  -&gt; Encontrado spotify-1.1.10.546-x86_64.deb
  -&gt; Encontrado spotify-1.1.10.546-x86_64-Packages
<span class="o">==&gt;</span> Validando <span class="nb">source </span>arquivos com sha512sums...
    spotify.protocol ... Passou
    LICENSE ... Passou
    spotify-1.1.10.546-Release ... Ignorada
    spotify-1.1.10.546-Release.sig ... Ignorada
<span class="o">==&gt;</span> Validando source_x86_64 arquivos com sha512sums...
    spotify-1.1.10.546-x86_64.deb ... Passou
    spotify-1.1.10.546-x86_64-Packages ... Passou
<span class="o">==&gt;</span> Verificando assinatura de arquivo fonte com gpg...
    spotify-1.1.10.546-Release ... FALHOU <span class="o">(</span>chave pública inválida 2EBF997C15BDA244B6EBF5D84773BD5E130D1D45<span class="o">)</span>
<span class="o">==&gt;</span> ERRO: Uma ou mais assinaturas PGP não puderam ser verificadas!
Error downloading sources: spotify

  william at archlinux <span class="k">in </span>folder ~ <span class="o">(</span>python-3.7.4<span class="o">)</span>
 ⇨
</pre></td></tr></tbody></table></code></pre></figure><p>Observe que ao final do comando me retornou a chave que está dando problema, nesse caso é a chave <strong>2EBF997C15BDA244B6EBF5D84773BD5E130D1D45</strong>. É essa chave que vamos adicionar.</p><p>Para corrigir erros de chave no Arch Linux, você usará o comando <code class="language-plaintext highlighter-rouge">pacman-key</code>. Veja abaixo como adicionar uma chave no ficheiro do seu Arch Linux.</p><figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nb">sudo </span>pacman-key <span class="nt">-r</span> 2EBF997C15BDA244B6EBF5D84773BD5E130D1D45
<span class="nb">sudo </span>pacman-key <span class="nt">--lsign-key</span> 2EBF997C15BDA244B6EBF5D84773BD5E130D1D45
<span class="nb">sudo </span>pacman-key <span class="nt">--refresh-keys</span></code></pre></figure><p>Após executar todos comando acima, você deve repetir o processo de instalação do pacote novamente com o seguinte comando no <code class="language-plaintext highlighter-rouge">yay</code>:</p><figure class="highlight"><pre><code class="language-bash" data-lang="bash">yay <span class="nt">-S</span> spotify <span class="nt">--nodiffmenu</span> <span class="nt">--noeditmenu</span></code></pre></figure><p>Caso o erro de chave persista mesmo você fazendo os passos acima, dê uma olhada nos comentários da página do pacote para ver se o erro é do desenvolvedor. Nesse caso, você pode instalar qualquer pacote do AUR com erros de chaves ignorando a assinatura PGP com o comando abaixo:</p><figure class="highlight"><pre><code class="language-bash" data-lang="bash">yay <span class="nt">-S</span> <span class="nt">--mflags</span> <span class="nt">--skipinteg</span> spotify</code></pre></figure><p>Até a próxima ;)</p></div><div class="row post-tags"><ul class="tag-list"><strong>[<span class="spacer">tags</span>]:</strong><li class="tag-list__item"><a class="tag-list__link" href="/blog/tags/archlinux">archlinux</a></li><strong class="separator">⨟</strong><li class="tag-list__item"><a class="tag-list__link" href="/blog/tags/keys">keys</a></li><strong class="separator">⨟</strong></ul></div></div><div class="post-end text-center">////&nbsp;end of post&nbsp;////</div><div id="giscus" class="row comments"><h1 class="comments-title">[&nbsp;comentários&nbsp;]</h1><div class="row comments-content"><script src="https://giscus.app/client.js" data-repo="williamcanin/williamcanin.github.io" data-repo-id="MDEwOlJlcG9zaXRvcnk0MDMyOTUzOQ==" data-repo-category="Comments" data-category-id="DIC_kwDOAmdhQ84CwLFu" data-mapping="pathname" data-strict="0" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="bottom" data-theme="noborder_light" data-lang="pt" crossorigin="anonymous" async></script></div></div><div class="row related-posts"><h3 class="related-posts-title">[&nbsp;postagens relacionadas&nbsp;]</h3><ul class="related-posts-list"><li class="related-posts-list__item"><span class="related-posts-list__meta">27 Abr, 2017</span>&nbsp;»&nbsp;<a class="related-posts-list__link" href="/blog/instalando-archlinux-com-criptografia-luks-e-lvm/">Instalando Arch Linux com criptografia LUKS e LVM</a></li></ul></div></article></main></div><footer class="fixed-bottom footer"><div class="row top"><div class="col-md d-flex justify-content-end"><a id="top-link" class="top-link" href="#top">⇡</a></div></div><div class="row footer-wrapper"><div class="col-md footer-copyright-wrap"><div class="footer-copyright">©&nbsp;William Canin&nbsp;2015-2025&nbsp;|&nbsp;<a href="/licenses/">Licenças</a></div></div><div class="col-md footer-message-wrap"><div class="footer-message"><p>Simplicity is a feature, not a bug.</p></div></div><div class="col-md footer-made-by-wrap"><div class="footer-made-by">Using the <a href="https://rawfeed.github.io/rawfeed-jekyll" target="_blank" rel="noopener noreferrer">rawfeed</a> theme for <a href="https://jekyllrb.com" target="_blank" rel="noopener noreferrer">Jekyll</a>.</div></div></div></footer></div><script src="/assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script><script src="/assets/js/default.js"></script><script src="/assets/js/home.js"></script><script src="/assets/vendor/simple-jekyll-search.min.js"></script><script src="/assets/js/blog.js"></script><script src="/assets/js/page.js"></script><script src="/assets/js/contact.js"></script></body></html>