<!DOCTYPE html><html id="top" lang="pt-BR" data-theme="light"><head><meta name="viewport" content="width=device-width,initial-scale=1"><meta charset="utf-8"><title>Carregando javascripts para diferentes posts e pages no jekyll | William Canin</title><meta name="description" content="Será que seu projeto em jekyll está carregados ..."><meta name="author" content="William C. Canin"><meta property="og:title" content="Carregando javascripts para diferentes posts e pages no jekyll"><meta property="og:locale" content="pt_BR"><meta property="og:locale:alternate" content="en_US"><meta property="og:description" content="Será que seu projeto em jekyll está carregados ..."><link rel="canonical" href="https://williamcanin.github.io/blog/carregando-javascripts-para-diferentes-posts-e-pages-no-jekyll/"><meta property="og:url" content="https://williamcanin.github.io/blog/carregando-javascripts-para-diferentes-posts-e-pages-no-jekyll/"><meta property="og:site_name" content="William Canin"><meta property="og:type" content="website"><meta name="twitter:card" content="summary"><meta property="twitter:title" content="William Canin"><meta name="robots" content="index, follow"><script type="application/ld+json">{"@context":"https://schema.org","@type":"WebSite","description":"Será que seu projeto em jekyll está carregados ...","headline":"William Canin","name":"William Canin","url":"https://williamcanin.github.io/blog/carregando-javascripts-para-diferentes-posts-e-pages-no-jekyll/"}</script><script src="/assets/js/no_inframe.js"></script><meta http-equiv="Content-Security-Policy" content=" default-src 'self'; img-src 'self' data: https://www.google.com https://media0.giphy.com https://media4.giphy.com https://github.githubassets.com; script-src 'self' https://www.google.com https://www.gstatic.com https://cdn.jsdelivr.net https://cdnjs.cloudflare.com https://giscus.app https://disqus.com https://script.google.com; style-src 'self' 'unsafe-inline' https://cdnjs.cloudflare.com https://fonts.googleapis.com https://cdn.jsdelivr.net https://giscus.app https://disqus.com; font-src 'self' https://fonts.gstatic.com https://cdnjs.cloudflare.com data:; connect-src 'self' https://www.google.com https://api.github.com https://script.google.com; frame-src https://www.google.com https://www.youtube.com https://giscus.app https://disqus.com; object-src 'none'; base-uri 'self'; form-action 'self'; "><meta http-equiv="Strict-Transport-Security" content="max-age=31536000; includeSubDomains; preload"><meta http-equiv="Cross-Origin-Opener-Policy" content="same-origin"><meta http-equiv="Cross-Origin-Embedder-Policy" content="require-corp"><link rel="icon" type="image/png" href="/assets/images/favicon.png"><link rel="apple-touch-icon" href="/assets/images/favicon.png"><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=SUSE+Mono:ital,wght@0,100..800;1,100..800&display=swap" rel="stylesheet"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inconsolata:400,700&amp;display=swap"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Inconsolata:wght@200..900&family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Roboto+Mono:ital,wght@0,100..700;1,100..700&family=Ubuntu:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&display=swap" rel="stylesheet"><link rel="stylesheet" href="/assets/vendor/bootstrap/css/bootstrap.min.css"><script src="/assets/js/theme_load.js"></script><link rel="stylesheet" href="/assets/css/style.css"><link rel="alternate" type="application/atom+xml" title="William Canin" href="/feed.xml"></head><body data-layout="post" data-terminal-enabled="true" style="font-family:monospace!important;font-size:15.45px!important;letter-spacing:-.05em!important"><div class="container-fluid"><div class="modal fade" id="avatarModal" tabindex="-1" aria-hidden="true"><div class="modal-dialog modal-dialog-centered"><div class="modal-content bg-transparent border-0 shadow-none"><div class="modal-body d-flex justify-content-center"><img id="modalAvatar" class="avatar-img" src="" alt=""></div></div></div></div><header class="header" style="max-width:860px!important;font-family:monospace!important;font-size:15.45px!important;letter-spacing:-.05em!important"><div class="row"><div class="col-sm-3 d-flex flex-column justify-content-end header__column-home"><span>[<span class="spacer">🏠</span><a class="" href="/">/home</a>&nbsp;]</span></div><div class="col-sm-6 d-flex flex-column justify-content-end"><span class="title">Hey, I'm William!</span> <small class="description">thoughts on programming, digital wellbeing, linux</small></div><div class="col-sm-3 d-flex justify-content-end avatar"><div class="avatar-wrapper"><div class="avatar-flipper light-theme can-flip"><div class="avatar-card"><div class="avatar-front"><img id="avatarImgLight" class="avatar-img" src="/assets/images/wcanin_light.png" alt="William Canin"></div><div class="avatar-back"><img class="avatar-img" src="/assets/images/wcanin_back.png" alt="William Canin"></div></div></div><div class="avatar-flipper dark-theme can-flip"><div class="avatar-card"><div class="avatar-front"><img id="avatarImgDark" class="avatar-img" src="/assets/images/wcanin_dark.png" alt="William Canin"></div><div class="avatar-back"><img class="avatar-img" src="/assets/images/wcanin_back.png" alt="William Canin"></div></div></div></div></div></div><div class="row"><div class="col-sm d-flex justify-content-center"><div class="line-separator"></div></div></div><div class="row"><div class="col-sm d-flex justify-content-center menu"><div>weblog&nbsp;»<div class="menu-wrap-link"><span class="spacer">📝</span><a class="" href="/blog/">posts</a><strong class="separator">⨟</strong></div><span style="display:inline-block"><span class="spacer">🔍</span><a id="blog-search__btn" href="/blog/?search=open">pesquisar</a><strong class="separator">⨟</strong></span><div class="menu-wrap-link"><span class="spacer">🔖</span><a class="" href="/blog/tags/">tags</a><strong class="separator">⨟</strong></div><div class="menu-wrap-link"><span class="spacer">📰</span><a href="/feed.xml">feed</a><strong class="separator">⨟</strong></div></div></div></div><div class="row justify-content-end"><div class="col-sm-2 d-flex justify-content-end"><span id="toggle-theme"><i class="fa-solid fa-moon"></i></span></div></div></header><div class="default" style="max-width:860px!important"><main class="content"><article id="post" class="post background_focus" itemscope itemtype="http://schema.org/BlogPosting"><div class="row"><header class="post-header"><h1 class="post-title p-name" itemprop="name headline">»&nbsp;Carregando Javascripts para diferentes posts e pages no Jekyll</h1><div class="row post-meta"><div class="col-sm d-flex justify-content-start"><time class="dt-published" datetime="2017-10-09T21:31:36+00:00" itemprop="datePublished">09 Out, 2017</time></div><div class="col-sm d-flex justify-content-end"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span class="p-author h-card" itemprop="name">Postado por:&nbsp;William C. Canin</span></span></div><div class="post-reading_time">[&nbsp;Leia aproximadamente em 3 minutos&nbsp;]</div></div></header><div class="post-content e-content" itemprop="articleBody"><nav id="toc" style="border-top-left-radius:0!important;border-top-right-radius:0!important" class="toc background_focus" data-toc-selector=".post-content" data-toc-max-level="3" data-toc-scroll-offset="20" data-btn-show="Abrir" data-btn-hidden="Fechar"><div class="toc-head"><h2>Índice</h2><button class="toc-toggle" aria-expanded="true" type="button"></button></div><div class="toc-list-wrapper"><ul class="toc-list" role="list"></ul><p class="toc-empty" style="display:none">No titles found. Remove TOC!</p></div></nav><p>Oi pessoa, tudo bem? Me desculpe pela demora de um novo post, mas é que tive alguns contratempos. Mas como diz o Serjão Berranteiro:</p><blockquote><p>“E com fé no Pai Eterno sempre aqui estou vou estar tô ae firme pro meu berrante tocá”.</p></blockquote><p>😃</p><p>Deixando as desculpas de lado, vamos ao que interessa; o Post!</p><h2 id="introdução">Introdução</h2><p>Essa é uma dica rápida pra você que utiliza <a href="https://jekyllrb.com/" target="_blank">Jekyll</a> como gerador de sites estáticos.</p><p>Colocar seus códigos Javascript tudo em apenas um arquivo .js, não é tão recomendável assim, independente de utilizar geradores de sites estáticos ou não. Isso porque ao ser carregado pelo navegador, pode existir um trecho de código de uma determinada página, que não deveria ser carregado, assim irá carregar códigos extras sem necessidade.</p><p>A melhor forma de fazer isso, é cada página carregar seu próprio Javascript, isso irá otimizar muito a velocidade de carregamento seu website, caso possua uma gama de códigos javascript em seu carregamento.</p><h2 id="requerimentos">Requerimentos</h2><p>O que você irá precisar para continuar com essa leitura:</p><table><thead><tr><th>Requerido</th><th>Como verificar</th><th>Como instalar</th></tr></thead><tbody><tr><td>Ruby</td><td><code class="language-plaintext highlighter-rouge">ruby -v</code></td><td><a href="https://www.ruby-lang.org" target="_blank">Ruby</a></td></tr><tr><td>Gem</td><td><code class="language-plaintext highlighter-rouge">gem -v</code></td><td><strong>Ruby</strong> contém <strong>Gem</strong></td></tr><tr><td>Jekyll</td><td><code class="language-plaintext highlighter-rouge">jekyll -v</code></td><td><code class="language-plaintext highlighter-rouge">gem install jekyll</code></td></tr></tbody></table><p>Instale conforme o seu sistema operacional.</p><h2 id="o-laço-for-no-layoutdefaulthtml">O laço ‘For’ no layout/default.html</h2><p>Você pode fazer essa otimização de carregamento de javascripts com <a href="https://jekyllrb.com/" target="_blank">Jekyll</a> de uma forma simples, usando um laço <strong>for</strong> no final do arquivo <em>layout/default.html</em>. Veja:</p><figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="c">&lt;!-- Specific for each pages. --&gt;</span>
{ % for script_page in page.script % }
   <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span> <span class="na">src=</span><span class="s">"{ { '/assets/javascripts/' | prepend: site.baseurl | prepend: site.url  | append: script_page } }"</span><span class="nt">&gt;&lt;/script&gt;</span>
{ % endfor % }</code></pre></figure><blockquote><p>NOTA: Sem espaços entre as chaves.</p></blockquote><h3 id="entendendo-o-for">Entendendo o ‘For’</h3><p>Observe que o diretório de meus javascripts está com PATH para <em>/assets/javascripts/</em>, ou seja, você deve modificar esse PATH para o local onde esteja seus javascripts.</p><p>Na linha <em>{ % for script_page in page.script % }</em>, a variável <strong>script_page</strong> é responsável por amarzenar os valores do laço. A variável <strong>page</strong> é uma variável padrão do Jekyll, que carrega os arquivos de posts e pages, e a variável <strong>script</strong> temos que criar nos arquivos de post e page.</p><h2 id="o-arquivo-de-postagem">O arquivo de postagem</h2><p>Como dito antes, temos que criar a variável de <strong>script</strong> dentro do cabeçalho de nossos arquivos de post e page. Dentro de um arquivo no diretório <strong>_posts/mypost.md</strong> por exemplo, adicionaremos:</p><figure class="highlight"><pre><code class="language-html" data-lang="html"># Does not change and does not remove 'script' variable.
script: [post.js]</code></pre></figure><p>Nesse casso, você deve colocar essa linha para todos arquivos dentro de <strong>_posts</strong> . Para os arquivos de páginas, você deve colocar também, porém deves mudar o nome do valor da variável <strong>script</strong> para <strong>pages.js</strong>, assim:</p><figure class="highlight"><pre><code class="language-html" data-lang="html"># Does not change and does not remove 'script' variable.
script: [pages.js]</code></pre></figure><h3 id="exemplo-para-arquivos-de-posts">Exemplo para arquivos de posts</h3><figure class="highlight"><pre><code class="language-text" data-lang="text">---
layout: post
title: My Post 1
date: 2017-05-09 18:31:36
# Does not change and does not remove 'script' variable.
script: [post.js]
---</code></pre></figure><h3 id="exemplo-para-arquivos-de-pages">Exemplo para arquivos de pages</h3><figure class="highlight"><pre><code class="language-text" data-lang="text">---
layout: page
title: My Page 1
date: 2017-05-09 18:31:36
# Does not change and does not remove 'script' variable.
script: [page1.js]
---</code></pre></figure><p>Nesse caso todos os posts irá carregar o código javascript contido no arquivo <strong>/assets/javascripts/post.js</strong>, ou seja, será um arquivo global para todos os posts, mas você pode especificar um para cada post se quiser também. Os arquivos de páginas, segue o mesmo raciocínio. Nesse exemplo está carregando o <strong>/assets/javascripts/page1.js</strong>, mas também pode ter um glogal para todas as páginas.</p><h2 id="conclusão">Conclusão</h2><p>Fazendo dessa forma, você tem maior controle de qual página ou qual post deve carregar um determinado javascript para si próprio. Otimização de código é um marco importante para um bom desenvolvedor. Eu fico por aqui, espero que você possa ter entendido como otimizar o carregamento de javascripts no <a href="https://jekyllrb.com/" target="_blank">Jekyll</a>. Abraço pessoa, :punch:.</p></div><div class="row post-tags"><ul class="tag-list"><strong>[<span class="spacer">tags</span>]:</strong><li class="tag-list__item"><a class="tag-list__link" href="/blog/tags/javascripts">javascripts</a></li><strong class="separator">⨟</strong><li class="tag-list__item"><a class="tag-list__link" href="/blog/tags/jekyll">jekyll</a></li><strong class="separator">⨟</strong><li class="tag-list__item"><a class="tag-list__link" href="/blog/tags/liquid">liquid</a></li><strong class="separator">⨟</strong></ul></div></div><div class="post-end text-center">////&nbsp;end of post&nbsp;////</div><div id="giscus" class="row comments"><h1 class="comments-title">[&nbsp;comentários&nbsp;]</h1><div class="row comments-content"><script src="https://giscus.app/client.js" data-repo="williamcanin/williamcanin.github.io" data-repo-id="MDEwOlJlcG9zaXRvcnk0MDMyOTUzOQ==" data-repo-category="Comments" data-category-id="DIC_kwDOAmdhQ84CwLFu" data-mapping="pathname" data-strict="0" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="bottom" data-theme="noborder_light" data-lang="pt" crossorigin="anonymous" async></script></div></div></article></main></div><footer class="fixed-bottom footer"><div class="row top"><div class="col-md d-flex justify-content-end"><a id="top-link" class="top-link" href="#top">⇡</a></div></div><div class="row footer-wrapper"><div class="col-md footer-copyright-wrap"><div class="footer-copyright">©&nbsp;William Canin&nbsp;2015-2025&nbsp;|&nbsp;<a href="/licenses/">Licenças</a></div></div><div class="col-md footer-message-wrap"><div class="footer-message"><p>Simplicity is a feature, not a bug.</p></div></div><div class="col-md footer-made-by-wrap"><div class="footer-made-by">Using the <a href="https://rawfeed.github.io/rawfeed-jekyll" target="_blank" rel="noopener noreferrer">rawfeed</a> theme for <a href="https://jekyllrb.com" target="_blank" rel="noopener noreferrer">Jekyll</a>.</div></div></div></footer></div><script src="/assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script><script src="/assets/js/default.js"></script><script src="/assets/js/home.js"></script><script src="/assets/vendor/simple-jekyll-search.min.js"></script><script src="/assets/js/blog.js"></script><script src="/assets/js/page.js"></script><script src="/assets/js/contact.js"></script></body></html>