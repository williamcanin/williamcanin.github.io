document.addEventListener("DOMContentLoaded",()=>{document.addEventListener("contextmenu",e=>e.preventDefault());const c=document.getElementById("avatarModal");if(c){const e=document.querySelectorAll(".avatar-flipper__open-true"),a=document.getElementById("modalAvatar"),s=document.querySelector(".header"),o=new bootstrap.Modal(c);e.forEach(t=>{t.addEventListener("click",()=>{const n=t.querySelector(".avatar-card"),h=t.querySelector(".avatar-back img").src;n.classList.add("flip-avatar"),n.addEventListener("animationend",()=>{n.classList.remove("flip-avatar"),a.src=h,o.show()},{once:!0})})}),c.addEventListener("shown.bs.modal",()=>{a.classList.remove("modal-avatar"),a.offsetWidth,a.classList.add("modal-avatar"),s.classList.remove("modal-active"),e.forEach(t=>t.classList.add("hidden"))}),c.addEventListener("hidden.bs.modal",()=>{e.forEach(t=>t.classList.remove("hidden"))})}const d=document.getElementById("top-link"),f=700;window.addEventListener("scroll",()=>{window.scrollY>f?d.classList.add("show"):d.classList.remove("show")}),d.addEventListener("click",e=>{e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})});function r(e){if(window.giscusThemes){const s={giscus:{setConfig:{theme:e==="light"?window.giscusThemes.light:window.giscusThemes.dark}}},o=setInterval(()=>{const t=document.querySelector("iframe.giscus-frame");t&&(t.contentWindow.postMessage(s,"https://giscus.app"),clearInterval(o))},500);setTimeout(()=>{clearInterval(o)},4e3)}}const i=document.getElementById("toggle-theme"),l=i.querySelector("i"),m=document.documentElement;function u(e){m.setAttribute("data-theme",e),l.classList.remove("fa-sun","fa-moon"),l.classList.add(e==="dark"?"fa-sun":"fa-moon"),typeof r=="function"&&r(e),localStorage.setItem("theme",e)}u(localStorage.getItem("theme")||"light"),i.addEventListener("click",()=>{const a=m.getAttribute("data-theme")==="light"?"dark":"light";u(a)}),document.querySelectorAll("div.highlight, figure.highlight").forEach(e=>{const a=document.createElement("div");a.className="code-block-container";const s=document.createElement("div");s.className="code-block-header";const o=document.createElement("button");o.className="copy-btn",o.type="button",o.setAttribute("aria-label","Copy code");const t=document.createElement("i");t.className="fa-solid fa-clipboard",o.appendChild(t),s.appendChild(o),e.parentNode.insertBefore(a,e),a.appendChild(s),a.appendChild(e),o.addEventListener("click",()=>{const n=e.querySelector("td.code"),v=n?n.innerText.trim():e.innerText.trim();navigator.clipboard.writeText(v).then(()=>{t.className="fa-solid fa-check",setTimeout(()=>t.className="fa-solid fa-clipboard",2e3)},()=>{t.className="fa-solid fa-xmark",setTimeout(()=>t.className="fa-solid fa-clipboard",2e3)})})})});
