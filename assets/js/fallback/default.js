document.addEventListener("DOMContentLoaded",()=>{document.addEventListener("contextmenu",e=>e.preventDefault());const c=document.getElementById("avatarModal");if(c){const e=document.querySelectorAll(".avatar-flipper__open-true"),o=document.getElementById("modalAvatar"),n=document.querySelector(".header"),a=new bootstrap.Modal(c);e.forEach(t=>{t.addEventListener("click",()=>{const s=t.querySelector(".avatar-card"),g=t.querySelector(".avatar-back img").src;s.classList.add("flip-avatar"),s.addEventListener("animationend",()=>{s.classList.remove("flip-avatar"),o.src=g,a.show()},{once:!0})})}),c.addEventListener("shown.bs.modal",()=>{o.classList.remove("modal-avatar"),o.offsetWidth,o.classList.add("modal-avatar"),n.classList.remove("modal-active"),e.forEach(t=>t.classList.add("hidden"))}),c.addEventListener("hidden.bs.modal",()=>{e.forEach(t=>t.classList.remove("hidden"))})}let d=document.getElementById("top-link");const r=700;window.onscroll=function(){p()};function p(){document.body.scrollTop>r||document.documentElement.scrollTop>r?d.style.display="block":d.style.display="none"}d.addEventListener("click",h);function h(){window.scrollTo({top:0,behavior:"smooth"})}function l(e){if(window.giscusThemes){const n={giscus:{setConfig:{theme:e==="light"?window.giscusThemes.light:window.giscusThemes.dark}}},a=setInterval(()=>{const t=document.querySelector("iframe.giscus-frame");t&&(t.contentWindow.postMessage(n,"https://giscus.app"),clearInterval(a))},500);setTimeout(()=>{clearInterval(a)},4e3)}}const i=document.getElementById("toggle-theme"),m=i.querySelector("i"),u=document.documentElement;function f(e){u.setAttribute("data-theme",e),m.classList.remove("fa-sun","fa-moon"),m.classList.add(e==="dark"?"fa-sun":"fa-moon"),typeof l=="function"&&l(e),localStorage.setItem("theme",e)}f(localStorage.getItem("theme")||"light"),i.addEventListener("click",()=>{const o=u.getAttribute("data-theme")==="light"?"dark":"light";f(o)}),document.querySelectorAll("div.highlight, figure.highlight").forEach(e=>{const o=document.createElement("div");o.className="code-block-container";const n=document.createElement("div");n.className="code-block-header";const a=document.createElement("button");a.className="copy-btn",a.type="button",a.setAttribute("aria-label","Copy code");const t=document.createElement("i");t.className="fa-solid fa-clipboard",a.appendChild(t),n.appendChild(a),e.parentNode.insertBefore(o,e),o.appendChild(n),o.appendChild(e),a.addEventListener("click",()=>{const s=e.querySelector("td.code"),v=s?s.innerText.trim():e.innerText.trim();navigator.clipboard.writeText(v).then(()=>{t.className="fa-solid fa-check",setTimeout(()=>t.className="fa-solid fa-clipboard",2e3)},()=>{t.className="fa-solid fa-xmark",setTimeout(()=>t.className="fa-solid fa-clipboard",2e3)})})})});
