@use "../components/index";

@keyframes flip-coin {
  0% {
    transform: rotateY(0deg) scale(1);
  }

  50% {
    transform: rotateY(90deg) scale(0.8);
    opacity: 0.5;
  }

  100% {
    transform: rotateY(180deg) scale(0.6);
    opacity: 0;
  }
}

@keyframes appear {
  0% {
    transform: rotateY(180deg) scale(0.6);
    opacity: 0;
  }

  50% {
    transform: rotateY(270deg) scale(0.8);
    opacity: 0.5;
  }

  100% {
    transform: rotateY(360deg) scale(1);
    opacity: 1;
  }
}

.menu-active {
  color: var(--text-color) !important;
  text-decoration: none !important;
  border-bottom: 1px solid var(--text-color);
}

.header {
  margin: 20px 0px 30px 0px;
  transition: margin 0.3s ease;

  .menu-separator {
    margin-top: 5px;
    border-bottom: 2px dotted var(--text-color);
    width: 100% !important;
  }

  span {
    font-weight: bold;
  }

  .column-center {
    @media (max-width: 400px) {
      max-width: 399px;
      justify-content: end !important;
      position: absolute;
      float: right;
      right: 0;
    }
  }

  .blog-menu {
    button {
      @extend %button;
    }

    &__link {
      margin: 0 !important;
    }
  }

  .column-bottom {
    margin-top: 5px;
  }

  .title {
    text-align: center;
    font-weight: bold !important;
    color: var(--text-color);
  }

  .description {
    text-align: center;
    color: var(--text-muted-color);
    font-weight: normal !important;
    font-family: "SUSE Mono", sans-serif;
  }

  a {
    font-weight: bold;
    text-decoration: underline;
    // margin: 0px 5px;
  }


  // O contÃªiner que reage ao hover


  .avatar {
    &-wrapper {
      // Define a perspectiva para o efeito 3D
      perspective: 1000px;
    }

    &-img {
      width: 70px !important;
      border: 2px dotted var(--primary-color);
      border-radius: 0px;
      margin-bottom: 5px;
      cursor: pointer !important;

      &__open-true {
        object-fit: cover;
        transition: transform 0.3s ease;
        transition: opacity 0.4s ease;

        &:hover {
          transform: scale(1.05);
        }

        &.hidden {
          opacity: 0;
          visibility: hidden;
        }
      }
    }

    &-flipper {
      width: 70px;
      height: 70px;
      position: relative;

      // Hides the dark theme avatar by default
      &.dark-theme {
        display: none;
      }

      // Hover logic: Rotates the card when you hover the mouse over the flipper
      &.can-flip:hover {
        .avatar-card {
          transform: rotateY(180deg);
        }
      }
    }

    &-card {
      width: 100%;
      height: 100%;
      position: relative;
      transition: transform 0.6s;
      transform-style: preserve-3d; // Enables 3D space
    }

    // Styles for the front and back
    &-front,
    &-back {
      position: absolute;
      width: 100%;
      height: 100%;
      -webkit-backface-visibility: hidden; // Prevents the back of the element from being visible
      backface-visibility: hidden;
    }

    // The verse starts already turned
    &-back {
      transform: rotateY(180deg);
    }

    // disable for mobile
    @media (max-width: 578px) {
      display: none !important;
    }
  }

  .fa-sun {
    color: white;
  }

  .fa-moon {
    color: black;
  }

  .fa-sun,
  .fa-moon {
    cursor: pointer !important;
    font-size: 1.1rem;
  }

  a {
    // all link menu in lowercase
    text-transform: lowercase !important;
  }
}

// toggle avatar
#avatarImgDark {
  display: none;
}

[data-theme="dark"] #avatarImgLight {
  display: none;
}

[data-theme="dark"] #avatarImgDark {
  display: inline-block;
}

// modal avatar
.flip-avatar {
  animation: flip-coin 0.6s forwards;
}

.modal-avatar {
  max-width: 90vw;
  max-height: 80vh;
  border-radius: 12px;
  animation: appear 0.6s ease forwards;
  transform: rotateY(180deg) scale(0.6);
  opacity: 0;
  border: 4px dotted var(--text-color);
}

[data-theme="dark"] {
  .avatar {
    &-flipper {
      &.light-theme {
        display: none;
      }
    }

    &-flipper {
      &.dark-theme {
        display: block;
      }
    }
  }
}
